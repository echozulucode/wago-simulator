# AI Feedback Issue Register
# Schema: See docs/ai/research/issue-log-research.md
# Rules: Append-only history, never delete entries, preserve IDs

issues:
  - id: AI-ISSUE-2026012501
    title: "Drag-drop modules from explorer panel does not work"
    category: Bug
    severity: Medium
    priority: 2
    confidence: High
    scope: Local
    observed: |
      Dragging a module from the left Explorer panel and dropping it onto the
      rack area does not add the module. The drag operation appears to start
      (cursor changes), but dropping has no effect.
    expected: |
      Dragging a module type from the Explorer panel and dropping it onto the
      rack should add a new instance of that module to the rack at the
      appropriate slot position.
    trace_link: "apps/web/src/components/layout/LeftPanel.tsx"
    workaround: "Use the '+' button in the rack toolbar to add modules instead."
    status: Open
    next_action: "Investigate drag-drop event handlers in LeftPanel.tsx and WorkArea.tsx"
    history:
      - timestamp: 2026-01-25T12:00:00Z
        note: "Issue created. Drag-drop was intended as primary module add method."

  - id: AI-ISSUE-2026012502
    title: "Module list lacks scrollbar when content overflows"
    category: Bug
    severity: Low
    priority: 3
    confidence: High
    scope: Local
    observed: |
      When the Explorer panel's module list contains more items than can fit
      in the visible area, there is no scrollbar visible. Users cannot access
      modules that are outside the visible viewport.
    expected: |
      When the module list exceeds the available vertical space, a scrollbar
      should appear (or the container should be scrollable) to allow access
      to all available module types.
    trace_link: "apps/web/src/components/layout/LeftPanel.tsx"
    workaround: "Resize the window to be taller, or collapse other sections."
    status: Open
    next_action: "Add overflow-y-auto to the module list container in LeftPanel.tsx"
    history:
      - timestamp: 2026-01-25T12:00:00Z
        note: "Issue created during UI testing."

  - id: AI-ISSUE-2026012503
    title: "Status bar shows disconnected and zero clients while Modbus loop is active"
    category: Bug
    severity: Low
    priority: 3
    confidence: Medium
    scope: Local
    observed: |
      The status bar shows "Disconnected" and 0 clients even while the Modbus
      script loop is actively connected and polling the server.
    expected: |
      The status bar should show "Connected" and the active Modbus client count
      when a Modbus TCP client is connected and issuing requests.
    trace_link: "apps/web/src/components/layout/StatusBar.tsx"
    workaround: "None"
    status: Resolved
    next_action: null
    history:
      - timestamp: 2026-01-25T23:00:00Z
        note: "Issue logged from user report during Modbus script loop."
      - timestamp: 2026-01-27T10:00:00Z
        note: |
          Fixed type mismatch between backend ConnectionState (array of ModbusClientInfo)
          and frontend types (was expecting a number count). Updated shared types to match
          backend, fixed connectionStore and tauriApi imports, and enhanced StatusBar to
          show three states: 'Clients Active' (green), 'Listening' (yellow when server
          running but no clients), and 'Server Offline' (red when stopped).

  - id: AI-ISSUE-2026012504
    title: "Close Rack menu action does not clear rack"
    category: Bug
    severity: Low
    priority: 3
    confidence: Medium
    scope: Local
    observed: |
      Selecting File > Close Rack does not change the UI or clear the current
      rack configuration.
    expected: |
      Close Rack should clear the current rack configuration and return the UI
      to the empty state.
    trace_link: "apps/web/src/components/layout/MenuBar.tsx"
    workaround: "Reload the app to reset state."
    status: Resolved
    next_action: null
    history:
      - timestamp: 2026-01-25T23:00:00Z
        note: "Issue logged from user report."
      - timestamp: 2026-01-27T10:30:00Z
        note: |
          Fixed by updating rackStore.clearRack() to immediately clear local state
          (config, moduleStates) in addition to calling backend clear_rack command.
          Menu was already wired correctly.

  - id: AI-ISSUE-2026012505
    title: "File menu missing Exit item"
    category: Omission
    severity: Low
    priority: 3
    confidence: Medium
    scope: Local
    observed: |
      The File menu does not include an Exit item.
    expected: |
      File menu should provide an Exit option to close the app.
    trace_link: "apps/web/src/components/layout/MenuBar.tsx"
    workaround: "Close the window manually."
    status: Resolved
    next_action: null
    history:
      - timestamp: 2026-01-25T23:00:00Z
        note: "Issue logged from user report."
      - timestamp: 2026-01-27T10:30:00Z
        note: |
          Verified Exit menu item already exists and is wired to tauriApi.closeApp.
          The item was present at MenuBar.tsx line 194 with Alt+F4 shortcut.
